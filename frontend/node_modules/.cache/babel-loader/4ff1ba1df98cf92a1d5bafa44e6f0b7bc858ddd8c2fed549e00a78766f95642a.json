{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Etienne\\\\Documents\\\\SOFTWARE PROJECTS\\\\Footsies_Soccer_Trainer_App\\\\frontend\\\\src\\\\Pages\\\\StatPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { auth } from \"../Config/firebase\";\nimport { getUserProfile, updateUserSkills, updateUserProgress } from \"../Services\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StatPage = () => {\n  _s();\n  const {\n    skill\n  } = useParams(); // Get skill name from URL\n  const [userData, setUserData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [quests, setQuests] = useState([]);\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const user = auth.currentUser;\n        if (user) {\n          const profile = await getUserProfile(user.uid);\n          setUserData(profile);\n          generateQuests(profile.skills[skill]);\n        }\n      } catch (error) {\n        console.error(\"Error fetching user data:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchUserData();\n  }, [skill]);\n\n  // Generate sample quests based on skill level\n  const generateQuests = skillLevel => {\n    const baseQuests = [{\n      id: 1,\n      title: \"Basic Drills\",\n      xp: 10\n    }, {\n      id: 2,\n      title: \"Intermediate Training\",\n      xp: 20\n    }, {\n      id: 3,\n      title: \"Advanced Mastery\",\n      xp: 30\n    }];\n    setQuests(baseQuests.filter(q => skillLevel >= q.xp / 2));\n  };\n  const completeQuest = async xpGained => {\n    if (!userData) return;\n    const updatedSkillXP = userData.skills[skill] + xpGained;\n    const updatedXP = userData.xp + xpGained;\n    let updatedLevel = userData.level;\n    if (updatedXP >= 100) {\n      updatedLevel += 1;\n    }\n    await updateUserSkills(auth.currentUser.uid, {\n      ...userData.skills,\n      [skill]: updatedSkillXP\n    });\n    await updateUserProgress(auth.currentUser.uid, updatedXP, updatedLevel);\n    setUserData({\n      ...userData,\n      skills: {\n        ...userData.skills,\n        [skill]: updatedSkillXP\n      },\n      xp: updatedXP,\n      level: updatedLevel\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [skill.charAt(0).toUpperCase() + skill.slice(1), \" Training\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 24\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Your Current \", skill, \" Level: \", userData === null || userData === void 0 ? void 0 : userData.skills[skill]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Available Quests\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this), quests.map(quest => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: \"15px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [quest.title, \" - XP: \", quest.xp]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            padding: '10px',\n            backgroundColor: '#28a745',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer',\n            marginTop: '10px'\n          },\n          onClick: () => completeQuest(quest.xp),\n          children: \"Complete Quest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 29\n        }, this)]\n      }, quest.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n_s(StatPage, \"fsl43OTFIKB24YXYvYwr6nfPZeY=\", false, function () {\n  return [useParams];\n});\n_c = StatPage;\nexport default StatPage;\nvar _c;\n$RefreshReg$(_c, \"StatPage\");","map":{"version":3,"names":["React","useEffect","useState","useParams","auth","getUserProfile","updateUserSkills","updateUserProgress","jsxDEV","_jsxDEV","StatPage","_s","skill","userData","setUserData","loading","setLoading","quests","setQuests","fetchUserData","user","currentUser","profile","uid","generateQuests","skills","error","console","skillLevel","baseQuests","id","title","xp","filter","q","completeQuest","xpGained","updatedSkillXP","updatedXP","updatedLevel","level","style","padding","children","charAt","toUpperCase","slice","fileName","_jsxFileName","lineNumber","columnNumber","map","quest","marginBottom","backgroundColor","color","border","borderRadius","cursor","marginTop","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Etienne/Documents/SOFTWARE PROJECTS/Footsies_Soccer_Trainer_App/frontend/src/Pages/StatPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { auth } from \"../Config/firebase\";\r\nimport { getUserProfile, updateUserSkills, updateUserProgress } from \"../Services\";\r\n\r\nconst StatPage = () => {\r\n    const { skill } = useParams(); // Get skill name from URL\r\n    const [userData, setUserData] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [quests, setQuests] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const fetchUserData = async () => {\r\n            try {\r\n                const user = auth.currentUser;\r\n                if (user) {\r\n                    const profile = await getUserProfile(user.uid);\r\n                    setUserData(profile);\r\n                    generateQuests(profile.skills[skill]);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Error fetching user data:\", error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        \r\n        fetchUserData();\r\n    }, [skill]);\r\n\r\n    // Generate sample quests based on skill level\r\n    const generateQuests = (skillLevel) => {\r\n        const baseQuests = [\r\n            { id: 1, title: \"Basic Drills\", xp: 10 },\r\n            { id: 2, title: \"Intermediate Training\", xp: 20 },\r\n            { id: 3, title: \"Advanced Mastery\", xp: 30 }\r\n        ];\r\n        \r\n        setQuests(baseQuests.filter(q => skillLevel >= q.xp / 2));\r\n    };\r\n\r\n    const completeQuest = async (xpGained) => {\r\n        if (!userData) return;\r\n        const updatedSkillXP = userData.skills[skill] + xpGained;\r\n        const updatedXP = userData.xp + xpGained;\r\n        let updatedLevel = userData.level;\r\n        \r\n        if (updatedXP >= 100) {\r\n            updatedLevel += 1;\r\n        }\r\n        \r\n        await updateUserSkills(auth.currentUser.uid, { ...userData.skills, [skill]: updatedSkillXP });\r\n        await updateUserProgress(auth.currentUser.uid, updatedXP, updatedLevel);\r\n        setUserData({ ...userData, skills: { ...userData.skills, [skill]: updatedSkillXP }, xp: updatedXP, level: updatedLevel });\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: \"20px\" }}>\r\n            <h2>{skill.charAt(0).toUpperCase() + skill.slice(1)} Training</h2>\r\n            {loading ? <p>Loading...</p> : (\r\n                <div>\r\n                    <h3>Your Current {skill} Level: {userData?.skills[skill]}</h3>\r\n                    <h3>Available Quests</h3>\r\n                    {quests.map((quest) => (\r\n                        <div key={quest.id} style={{ marginBottom: \"15px\" }}>\r\n                            <p>{quest.title} - XP: {quest.xp}</p>\r\n                            <button \r\n                                style={{ \r\n                                    padding: '10px', \r\n                                    backgroundColor: '#28a745', \r\n                                    color: 'white', \r\n                                    border: 'none',\r\n                                    borderRadius: '4px',\r\n                                    cursor: 'pointer',\r\n                                    marginTop: '10px'\r\n                                }}\r\n                                onClick={() => completeQuest(quest.xp)}\r\n                            >\r\n                                Complete Quest\r\n                            </button>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StatPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}